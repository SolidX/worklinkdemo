b652ef14c49dce58969ea4809af99dff
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.initialState = {
    teamMembers: [],
    error: ''
};
exports.reducer = (state = exports.initialState, action) => {
    const { teamMembers } = state;
    const TOGGLE = "@@drag-and-drop/TOGGLE_TEAM_MEMBER" /* TOGGLE_TEAM_MEMBER */;
    let memberId;
    switch (action.type) {
        case TOGGLE:
            memberId = action.payload.memberId;
            // check if member is already in the team
            const memberIdPresent = teamMembers.some(member => member.id === memberId);
            // add member if not already there
            if (!memberIdPresent) {
                return Object.assign({}, state, { teamMembers: [...state.teamMembers, { id: action.payload.memberId }] });
                // remove member if already there
            }
            else if (memberIdPresent) {
                return Object.assign({}, state, { teamMembers: teamMembers.filter(member => member.id !== memberId) });
            }
            else {
                return Object.assign({}, state, { error: 'oops' });
            }
        default:
            return state;
    }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2FvNjAvRGVza3RvcC9Xb3JrRmlsZXMvV29ya2xpbmtEZW1vL3NyYy9SZWR1eC9kcmFnLWFuZC1kcm9wL3JlZHVjZXJzLnRzIiwibWFwcGluZ3MiOiI7O0FBSWEsUUFBQSxZQUFZLEdBQXFCO0lBQzVDLFdBQVcsRUFBRSxFQUFFO0lBQ2YsS0FBSyxFQUFFLEVBQUU7Q0FDVixDQUFDO0FBRVcsUUFBQSxPQUFPLEdBQUcsQ0FDckIsUUFBMEIsb0JBQVksRUFDdEMsTUFBYyxFQUNkLEVBQUU7SUFDRixNQUFNLEVBQUUsV0FBVyxFQUFFLEdBQUcsS0FBSyxDQUFDO0lBQzlCLE1BQU0sTUFBTSxnRUFBaUMsQ0FBQztJQUM5QyxJQUFJLFFBQWdCLENBQUM7SUFDckIsUUFBUSxNQUFNLENBQUMsSUFBSSxFQUFFO1FBQ25CLEtBQUssTUFBTTtZQUNULFFBQVEsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQztZQUNuQyx5Q0FBeUM7WUFDekMsTUFBTSxlQUFlLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FDdEMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsRUFBRSxLQUFLLFFBQVEsQ0FDakMsQ0FBQztZQUNGLGtDQUFrQztZQUNsQyxJQUFJLENBQUMsZUFBZSxFQUFFO2dCQUNwQix5QkFDSyxLQUFLLElBQ1IsV0FBVyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsV0FBVyxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUMsSUFDcEU7Z0JBQ0YsaUNBQWlDO2FBQ2xDO2lCQUFNLElBQUksZUFBZSxFQUFFO2dCQUMxQix5QkFDSyxLQUFLLElBQ1IsV0FBVyxFQUFFLFdBQVcsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsRUFBRSxLQUFLLFFBQVEsQ0FBQyxJQUNqRTthQUNIO2lCQUFNO2dCQUNMLHlCQUFZLEtBQUssSUFBRSxLQUFLLEVBQUUsTUFBTSxJQUFHO2FBQ3BDO1FBQ0g7WUFDRSxPQUFPLEtBQUssQ0FBQztLQUNoQjtBQUNILENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvYW82MC9EZXNrdG9wL1dvcmtGaWxlcy9Xb3JrbGlua0RlbW8vc3JjL1JlZHV4L2RyYWctYW5kLWRyb3AvcmVkdWNlcnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi9hY3Rpb25zJztcbmltcG9ydCB7IEFjdGlvblR5cGVzIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBJU3VwZXJRdWV1ZVByb3BzIH0gZnJvbSAnLi4vLi4vUmVhY3Qvc2NyZWVucy9TdXBlcnZpc29yUXVldWVTY3JlZW4nO1xuXG5leHBvcnQgY29uc3QgaW5pdGlhbFN0YXRlOiBJU3VwZXJRdWV1ZVByb3BzID0ge1xuICB0ZWFtTWVtYmVyczogW10sXG4gIGVycm9yOiAnJ1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZHVjZXIgPSAoXG4gIHN0YXRlOiBJU3VwZXJRdWV1ZVByb3BzID0gaW5pdGlhbFN0YXRlLFxuICBhY3Rpb246IEFjdGlvblxuKSA9PiB7XG4gIGNvbnN0IHsgdGVhbU1lbWJlcnMgfSA9IHN0YXRlO1xuICBjb25zdCBUT0dHTEUgPSBBY3Rpb25UeXBlcy5UT0dHTEVfVEVBTV9NRU1CRVI7XG4gIGxldCBtZW1iZXJJZDogc3RyaW5nO1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBUT0dHTEU6XG4gICAgICBtZW1iZXJJZCA9IGFjdGlvbi5wYXlsb2FkLm1lbWJlcklkO1xuICAgICAgLy8gY2hlY2sgaWYgbWVtYmVyIGlzIGFscmVhZHkgaW4gdGhlIHRlYW1cbiAgICAgIGNvbnN0IG1lbWJlcklkUHJlc2VudCA9IHRlYW1NZW1iZXJzLnNvbWUoXG4gICAgICAgIG1lbWJlciA9PiBtZW1iZXIuaWQgPT09IG1lbWJlcklkXG4gICAgICApO1xuICAgICAgLy8gYWRkIG1lbWJlciBpZiBub3QgYWxyZWFkeSB0aGVyZVxuICAgICAgaWYgKCFtZW1iZXJJZFByZXNlbnQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICB0ZWFtTWVtYmVyczogWy4uLnN0YXRlLnRlYW1NZW1iZXJzLCB7IGlkOiBhY3Rpb24ucGF5bG9hZC5tZW1iZXJJZCB9XVxuICAgICAgICB9O1xuICAgICAgICAvLyByZW1vdmUgbWVtYmVyIGlmIGFscmVhZHkgdGhlcmVcbiAgICAgIH0gZWxzZSBpZiAobWVtYmVySWRQcmVzZW50KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgdGVhbU1lbWJlcnM6IHRlYW1NZW1iZXJzLmZpbHRlcihtZW1iZXIgPT4gbWVtYmVyLmlkICE9PSBtZW1iZXJJZClcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBlcnJvcjogJ29vcHMnIH07XG4gICAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufTtcbiJdLCJ2ZXJzaW9uIjozfQ==