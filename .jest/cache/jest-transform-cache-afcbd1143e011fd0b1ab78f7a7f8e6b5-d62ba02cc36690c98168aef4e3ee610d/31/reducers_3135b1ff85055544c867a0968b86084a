16ad5d05a18ecef4e4662c4d2454cce9
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

const types_1 = require("./types");

exports.initialState = {
  teamMembers: [],
  error: ''
};

exports.reducer = (state = exports.initialState, action) => {
  const {
    teamMembers
  } = state;
  const ADD = types_1.ActionTypes.ADD_TEAM_MEMBER;
  const REMOVE = types_1.ActionTypes.REMOVE_TEAM_MEMBER;
  const memberId = action.payload.memberId;

  switch (action.type) {
    case ADD:
      // check if member is already in the team
      const memberIdPresent = teamMembers.some(member => member.id === memberId);
      console.log('outside!!', teamMembers, memberId, action.type); // add member if not already there

      if (!memberIdPresent && ADD) {
        console.log('addddd');
        return Object.assign({}, state, {
          teamMembers: [...state.teamMembers, {
            id: action.payload.memberId
          }]
        }); // remove member if already there
      } else if (memberIdPresent && REMOVE) {
        console.log('removveee');
        return Object.assign({}, state, {
          teamMembers: teamMembers.filter(member => member.id !== memberId)
        });
      } else {
        return Object.assign({}, state, {
          error: 'oops'
        });
      }

    case REMOVE:
      return Object.assign({}, state, {
        teamMembers: teamMembers.filter(member => member.id !== memberId)
      });

    default:
      return state;
  }
}; //# sourceMappingURL=reducers.js.map
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZHVjZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLE1BQUEsT0FBQSxHQUFBLE9BQUEsQ0FBQSxTQUFBLENBQUE7O0FBR2EsT0FBQSxDQUFBLFlBQUEsR0FBaUM7QUFDNUMsRUFBQSxXQUFXLEVBQUUsRUFEK0I7QUFFNUMsRUFBQSxLQUFLLEVBQUU7QUFGcUMsQ0FBakM7O0FBS0EsT0FBQSxDQUFBLE9BQUEsR0FBVSxDQUNyQixLQUFBLEdBQTBCLE9BQUEsQ0FBQSxZQURMLEVBRXJCLE1BRnFCLEtBR25CO0FBQ0YsUUFBTTtBQUFFLElBQUE7QUFBRixNQUFrQixLQUF4QjtBQUNBLFFBQU0sR0FBRyxHQUFHLE9BQUEsQ0FBQSxXQUFBLENBQVksZUFBeEI7QUFDQSxRQUFNLE1BQU0sR0FBRyxPQUFBLENBQUEsV0FBQSxDQUFZLGtCQUEzQjtBQUNBLFFBQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxPQUFQLENBQWUsUUFBaEM7O0FBQ0EsVUFBUSxNQUFNLENBQUMsSUFBZjtBQUNFLFNBQUssR0FBTDtBQUNFO0FBQ0EsWUFBTSxlQUFlLEdBQUcsV0FBVyxDQUFDLElBQVosQ0FDdEIsTUFBTSxJQUFJLE1BQU0sQ0FBQyxFQUFQLEtBQWMsUUFERixDQUF4QjtBQUdBLE1BQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxXQUFaLEVBQXlCLFdBQXpCLEVBQXNDLFFBQXRDLEVBQWdELE1BQU0sQ0FBQyxJQUF2RCxFQUxGLENBT0U7O0FBQ0EsVUFBSSxDQUFDLGVBQUQsSUFBb0IsR0FBeEIsRUFBNkI7QUFDM0IsUUFBQSxPQUFPLENBQUMsR0FBUixDQUFZLFFBQVo7QUFFQSxlQUFBLE1BQUEsQ0FBQSxNQUFBLENBQUEsRUFBQSxFQUNLLEtBREwsRUFDVTtBQUNSLFVBQUEsV0FBVyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsV0FBVixFQUF1QjtBQUFFLFlBQUEsRUFBRSxFQUFFLE1BQU0sQ0FBQyxPQUFQLENBQWU7QUFBckIsV0FBdkI7QUFETCxTQURWLENBQUEsQ0FIMkIsQ0FPM0I7QUFDRCxPQVJELE1BUU8sSUFBSSxlQUFlLElBQUksTUFBdkIsRUFBK0I7QUFDcEMsUUFBQSxPQUFPLENBQUMsR0FBUixDQUFZLFdBQVo7QUFFQSxlQUFBLE1BQUEsQ0FBQSxNQUFBLENBQUEsRUFBQSxFQUNLLEtBREwsRUFDVTtBQUNSLFVBQUEsV0FBVyxFQUFFLFdBQVcsQ0FBQyxNQUFaLENBQW1CLE1BQU0sSUFBSSxNQUFNLENBQUMsRUFBUCxLQUFjLFFBQTNDO0FBREwsU0FEVixDQUFBO0FBSUQsT0FQTSxNQU9BO0FBQ0wsZUFBQSxNQUFBLENBQUEsTUFBQSxDQUFBLEVBQUEsRUFBWSxLQUFaLEVBQWlCO0FBQUUsVUFBQSxLQUFLLEVBQUU7QUFBVCxTQUFqQixDQUFBO0FBQ0Q7O0FBQ0gsU0FBSyxNQUFMO0FBQ0UsYUFBQSxNQUFBLENBQUEsTUFBQSxDQUFBLEVBQUEsRUFDSyxLQURMLEVBQ1U7QUFDUixRQUFBLFdBQVcsRUFBRSxXQUFXLENBQUMsTUFBWixDQUFtQixNQUFNLElBQUksTUFBTSxDQUFDLEVBQVAsS0FBYyxRQUEzQztBQURMLE9BRFYsQ0FBQTs7QUFJRjtBQUNFLGFBQU8sS0FBUDtBQWpDSjtBQW1DRCxDQTNDWSxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi9hY3Rpb25zJztcbmltcG9ydCB7IEFjdGlvblR5cGVzIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBJU3VwZXJRdWV1ZVByb3BzIH0gZnJvbSAnLi4vLi4vUmVhY3Qvc2NyZWVucy9TdXBlcnZpc29yUXVldWVTY3JlZW4nO1xuXG5leHBvcnQgY29uc3QgaW5pdGlhbFN0YXRlOiBJU3VwZXJRdWV1ZVByb3BzID0ge1xuICB0ZWFtTWVtYmVyczogW10sXG4gIGVycm9yOiAnJ1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZHVjZXIgPSAoXG4gIHN0YXRlOiBJU3VwZXJRdWV1ZVByb3BzID0gaW5pdGlhbFN0YXRlLFxuICBhY3Rpb246IEFjdGlvblxuKSA9PiB7XG4gIGNvbnN0IHsgdGVhbU1lbWJlcnMgfSA9IHN0YXRlO1xuICBjb25zdCBBREQgPSBBY3Rpb25UeXBlcy5BRERfVEVBTV9NRU1CRVI7XG4gIGNvbnN0IFJFTU9WRSA9IEFjdGlvblR5cGVzLlJFTU9WRV9URUFNX01FTUJFUjtcbiAgY29uc3QgbWVtYmVySWQgPSBhY3Rpb24ucGF5bG9hZC5tZW1iZXJJZDtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgQUREOlxuICAgICAgLy8gY2hlY2sgaWYgbWVtYmVyIGlzIGFscmVhZHkgaW4gdGhlIHRlYW1cbiAgICAgIGNvbnN0IG1lbWJlcklkUHJlc2VudCA9IHRlYW1NZW1iZXJzLnNvbWUoXG4gICAgICAgIG1lbWJlciA9PiBtZW1iZXIuaWQgPT09IG1lbWJlcklkXG4gICAgICApO1xuICAgICAgY29uc29sZS5sb2coJ291dHNpZGUhIScsIHRlYW1NZW1iZXJzLCBtZW1iZXJJZCwgYWN0aW9uLnR5cGUpO1xuXG4gICAgICAvLyBhZGQgbWVtYmVyIGlmIG5vdCBhbHJlYWR5IHRoZXJlXG4gICAgICBpZiAoIW1lbWJlcklkUHJlc2VudCAmJiBBREQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2FkZGRkZCcpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgdGVhbU1lbWJlcnM6IFsuLi5zdGF0ZS50ZWFtTWVtYmVycywgeyBpZDogYWN0aW9uLnBheWxvYWQubWVtYmVySWQgfV1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gcmVtb3ZlIG1lbWJlciBpZiBhbHJlYWR5IHRoZXJlXG4gICAgICB9IGVsc2UgaWYgKG1lbWJlcklkUHJlc2VudCAmJiBSRU1PVkUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3JlbW92dmVlZScpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgdGVhbU1lbWJlcnM6IHRlYW1NZW1iZXJzLmZpbHRlcihtZW1iZXIgPT4gbWVtYmVyLmlkICE9PSBtZW1iZXJJZClcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBlcnJvcjogJ29vcHMnIH07XG4gICAgICB9XG4gICAgY2FzZSBSRU1PVkU6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgdGVhbU1lbWJlcnM6IHRlYW1NZW1iZXJzLmZpbHRlcihtZW1iZXIgPT4gbWVtYmVyLmlkICE9PSBtZW1iZXJJZClcbiAgICAgIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=